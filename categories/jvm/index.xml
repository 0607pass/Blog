<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>JVM on XFFF çš„ç‹¬ç«‹åšå®¢</title><link>https://0607pass.github.io/Blog/categories/jvm/</link><description>Recent content in JVM on XFFF çš„ç‹¬ç«‹åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Â© {year} XFFF</copyright><lastBuildDate>Sat, 03 Jan 2026 13:39:13 +0800</lastBuildDate><atom:link href="https://0607pass.github.io/Blog/categories/jvm/index.xml" rel="self" type="application/rss+xml"/><item><title>ä¸€æ¬¡ STW GC å¼•å‘çš„è¶…å–äº‹æ•…åˆ†æ</title><link>https://0607pass.github.io/Blog/p/%E4%B8%80%E6%AC%A1-stw-gc-%E5%BC%95%E5%8F%91%E7%9A%84%E8%B6%85%E5%8D%96%E4%BA%8B%E6%95%85%E5%88%86%E6%9E%90/</link><pubDate>Sat, 03 Jan 2026 13:39:13 +0800</pubDate><guid>https://0607pass.github.io/Blog/p/%E4%B8%80%E6%AC%A1-stw-gc-%E5%BC%95%E5%8F%91%E7%9A%84%E8%B6%85%E5%8D%96%E4%BA%8B%E6%95%85%E5%88%86%E6%9E%90/</guid><description>&lt;img src="https://0607pass.github.io/Blog/images/postCover/java.png" alt="Featured image of post ä¸€æ¬¡ STW GC å¼•å‘çš„è¶…å–äº‹æ•…åˆ†æ" /&gt;&lt;h2 id="äº‹æ•…ç°åœº"&gt;äº‹æ•…ç°åœº
&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªçº¿ç¨‹è¦å»åˆ›å»ºè®¢å•ï¼Œæ­£å¥½è¦å»æ•°æ®åº“åˆ›å»ºè®¢å•çš„æ—¶å€™ å‘ç”Ÿgc å‘ç”Ÿäº†stw gcç»“æŸä¹‹åï¼Œ åæŸ¥è¯¢è¯·æ±‚è¿›æ¥å å…ˆæ‹¿åˆ°äº†cpuè¿›è¡Œäº†å›æ»šåº“å­˜æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™åˆ›å»ºè®¢å•é‚£ä¸ªè¯·æ±‚åˆæ‹¿åˆ°äº†cpu å°±å‡ºç°äº† è¶…å–&lt;/p&gt;
&lt;h2 id="ä¸€è¿™æ®µè¯åˆ°åº•åœ¨è¯´ä»€ä¹ˆ"&gt;ä¸€ã€è¿™æ®µè¯åˆ°åº•åœ¨è¯´ä»€ä¹ˆï¼Ÿ
&lt;/h2&gt;&lt;p&gt;è¿™äº‹å„¿æˆ‘ä¸€å¼€å§‹ä¹Ÿæ‡µï¼Œåæ¥ä»”ç»†æƒ³äº†æƒ³ï¼Œå…¶å®æ˜¯ä¸ªæŒºéšè”½çš„å¹¶å‘é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç®€å•è¯´å°±æ˜¯ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹Aæ‰£å®Œåº“å­˜ï¼Œæ­£å‡†å¤‡åˆ›å»ºè®¢å•ï¼Œç»“æœJVMçªç„¶STW GCï¼Œæ•´ä¸ªä¸–ç•Œæš‚åœäº†ã€‚GCç»“æŸåï¼Œçº¿ç¨‹Bå…ˆæŠ¢åˆ°CPUï¼Œå‘ç°è®¢å•ä¸å­˜åœ¨å°±æŠŠåº“å­˜å›æ»šäº†ã€‚ç„¶åçº¿ç¨‹Aæ‰æ¢å¤ï¼Œç»§ç»­åˆ›å»ºè®¢å•æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»“æœï¼š&lt;/strong&gt; è®¢å•æœ‰äº†ï¼Œä½†åº“å­˜è¢«è¯¯å›æ»šï¼Œå¯¼è‡´è¶…å–ã€‚&lt;/p&gt;
&lt;h2 id="äºŒå®Œæ•´æ—¶é—´çº¿ä¸€æ­¥ä¸€æ­¥çœ‹"&gt;äºŒã€å®Œæ•´æ—¶é—´çº¿ï¼ˆä¸€æ­¥ä¸€æ­¥çœ‹ï¼‰
&lt;/h2&gt;&lt;p&gt;å‡è®¾åœºæ™¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redisåº“å­˜è¿˜å‰©1ä»¶&lt;/li&gt;
&lt;li&gt;ç”¨çš„æ˜¯&amp;quot;å¤±è´¥å°±å›æ»šåº“å­˜&amp;quot;çš„æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰å†»ç»“åº“å­˜çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="çº¿ç¨‹aç”¨æˆ·ä¸‹å•"&gt;çº¿ç¨‹Aï¼ˆç”¨æˆ·ä¸‹å•ï¼‰
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;T1ï¼š&lt;/strong&gt; Redisæ‰£åº“å­˜æˆåŠŸï¼Œåº“å­˜=0&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;T2ï¼š&lt;/strong&gt; å‡†å¤‡æ’å…¥æ•°æ®åº“è®¢å•&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;T3ï¼š&lt;/strong&gt; JVMçªç„¶STW GCï¼Œçº¿ç¨‹Aè¢«æš‚åœ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;âš ï¸ STWæ˜¯&amp;quot;æ•´ä¸ªJVMæ‰€æœ‰çº¿ç¨‹&amp;quot;éƒ½æš‚åœï¼Œä¸æ˜¯åªæœ‰çº¿ç¨‹A&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="gcç»“æŸå"&gt;GCç»“æŸå
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;GCç»“æŸ â‰  çº¿ç¨‹Aç«‹å³æ¢å¤&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ“ä½œç³»ç»Ÿé‡æ–°è°ƒåº¦ï¼Œè°å…ˆæŠ¢åˆ°CPUä¸ç¡®å®š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="çº¿ç¨‹bè¡¥å¿é€»è¾‘"&gt;çº¿ç¨‹Bï¼ˆè¡¥å¿é€»è¾‘ï¼‰
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;T4ï¼š&lt;/strong&gt; çº¿ç¨‹BæŠ¢åˆ°CPUï¼Œè¿›å…¥è®¢å•å¤±è´¥è¡¥å¿&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;T5ï¼š&lt;/strong&gt; åæŸ¥æ•°æ®åº“ï¼Œè®¢å•è¿˜æ²¡åˆ›å»ºï¼ˆçº¿ç¨‹Aè¿˜æ²¡æ¥å¾—åŠinsertï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;T6ï¼š&lt;/strong&gt; åˆ¤å®šè®¢å•ä¸å­˜åœ¨ï¼Œå›æ»šåº“å­˜ï¼Œåº“å­˜+1&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ æ­¤æ—¶åº“å­˜å·²ç»è¢«è¯¯å›æ»š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="çº¿ç¨‹aæ¢å¤"&gt;çº¿ç¨‹Aæ¢å¤
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;T7ï¼š&lt;/strong&gt; çº¿ç¨‹AæŠ¢åˆ°CPUï¼Œç»§ç»­æ‰§è¡Œinsertï¼Œè®¢å•åˆ›å»ºæˆåŠŸ&lt;/p&gt;
&lt;h2 id="ä¸‰æœ€ç»ˆç»“æœ"&gt;ä¸‰ã€æœ€ç»ˆç»“æœ
&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é¡¹ç›®&lt;/th&gt;
&lt;th&gt;çŠ¶æ€&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è®¢å•è¡¨&lt;/td&gt;
&lt;td&gt;æœ‰è®¢å•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Redisåº“å­˜&lt;/td&gt;
&lt;td&gt;1ï¼ˆè¢«è¯¯å›æ»šï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å®é™…å–å‡º&lt;/td&gt;
&lt;td&gt;1ä»¶ï¼Œä½†åº“å­˜æ˜¾ç¤ºè¿˜å‰©1ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹ä¸€ä¸ªç”¨æˆ·è¿›æ¥åˆèƒ½ä¹°ï¼Œè¶…å–äº†ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="å››ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µ"&gt;å››ã€ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Ÿ
&lt;/h2&gt;&lt;h3 id="1-stw-gcä¸å¯æ§"&gt;1. STW GCä¸å¯æ§
&lt;/h3&gt;&lt;p&gt;Full GCã€CMS remarkã€G1 mixedéƒ½ä¼šSTWã€‚ZGCè™½ç„¶çŸ­ï¼Œä½†ä¹Ÿä¸æ˜¯0ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»»ä½•JVMéƒ½æ— æ³•é¿å…STWã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="2-ä¸šåŠ¡é€»è¾‘å‡è®¾é”™äº†"&gt;2. ä¸šåŠ¡é€»è¾‘å‡è®¾é”™äº†
&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬å‡è®¾ï¼šçº¿ç¨‹Aè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ç°å®æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹å¯ä»¥è¢«ä»»æ„æ—¶åˆ»æš‚åœ&lt;/li&gt;
&lt;li&gt;æ¢å¤é¡ºåºä¸å¯é¢„æµ‹&lt;/li&gt;
&lt;li&gt;è¡¥å¿é€»è¾‘å¯èƒ½åœ¨è®¢å•åˆ›å»ºä¹‹å‰æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="3-æ•°æ®åº“çŠ¶æ€--çœŸå®çŠ¶æ€"&gt;3. æ•°æ®åº“çŠ¶æ€ â‰  çœŸå®çŠ¶æ€
&lt;/h3&gt;&lt;p&gt;è¡¥å¿é€»è¾‘æŸ¥æ•°æ®åº“ï¼š&amp;ldquo;ç°åœ¨æœ‰æ²¡æœ‰è®¢å•ï¼Ÿ&amp;rdquo;&lt;/p&gt;
&lt;p&gt;ä½†åº”è¯¥é—®çš„æ˜¯ï¼š&amp;ldquo;è¿™ä¸ªè¯·æ±‚æœ€ç»ˆä¼šä¸ä¼šåˆ›å»ºè®¢å•ï¼Ÿ&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æ ¹æœ¬æ€§çš„é€»è¾‘é”™è¯¯ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="äº”æ ¸å¿ƒé—®é¢˜"&gt;äº”ã€æ ¸å¿ƒé—®é¢˜
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ä½ ç”¨&amp;quot;å½“å‰ç¬æ—¶çŠ¶æ€&amp;quot;å»åˆ¤æ–­&amp;quot;æœªæ¥ä¼šä¸ä¼šæˆåŠŸ&amp;quot;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½†JVM + OS + GCå®Œå…¨ä¸ä¿è¯è¿™ä¸ªæ—¶åºã€‚&lt;/p&gt;
&lt;h2 id="æ€ä¹ˆè§£å†³"&gt;æ€ä¹ˆè§£å†³ï¼Ÿ
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;æ­£ç¡®åšæ³•ï¼š&lt;/strong&gt; ä¸è¦åœ¨åŒæ­¥é“¾è·¯ä¸­å›æ»šåº“å­˜ï¼Œè€Œæ˜¯å¼•å…¥åº“å­˜å†»ç»“çŠ¶æ€æˆ–å¼‚æ­¥è¡¥å¿æœºåˆ¶ï¼Œç¡®ä¿åº“å­˜å›é€€åªå‘ç”Ÿåœ¨è®¢å•è¿›å…¥ç»ˆæ€ä¹‹åã€‚&lt;/p&gt;
&lt;hr&gt;</description></item></channel></rss>